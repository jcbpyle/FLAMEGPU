<exp:Experimentation xmlns:exp="https://jcbpyle.github.io/XMMLExperiment" xmlns:gpu="http://www.dcs.shef.ac.uk/~paul/XMMLGPU" xmlns="http://www.dcs.shef.ac.uk/~paul/XMML">
    <Imports>
        <Import>
            <Module>threading</Module>
        </Import>
        <Import>
            <Module>sys</Module>
        </Import>
        <Import>
            <Module>queue</Module>
        </Import>
        <Import>
            <Module>datetime</Module>
        </Import>
    </Imports>


    <InitialStates baseDirectory="iterations">
        <InitialStateFile>
            <FileName>0</FileName>
            <Location>iterations</Location>
        </InitialStateFile>
        <InitialStateGenerator>
            <GeneratorName>predprey</GeneratorName>
            <Files>
                <InitialFileName>0</InitialFileName>
            </Files>
            <Globals>
                <Global>
                    <Name>REPRODUCE_PREY_PROB</Name>
                    <Value>
                        <Range>
                            <Min>0</Min>
                            <Max>0.25</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <Type>float</Type>
                    </Value>
                </Global>
                <Global>
                    <Name>REPRODUCE_PREDATOR_PROB</Name>
                    <Value>
                        <Range>
                            <Min>0</Min>
                            <Max>0.25</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <Type>float</Type>
                    </Value>
                </Global>
                <Global>
                    <Name>GAIN_FROM_FOOD_PREY</Name>
                    <Value>
                        <Range>
                            <Min>1</Min>
                            <Max>500</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <Type>int</Type>
                    </Value>
                </Global>
                <Global>
                    <Name>GAIN_FROM_FOOD_PREDATOR</Name>
                    <Value>
                        <Range>
                            <Min>1</Min>
                            <Max>500</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <Type>int</Type>
                    </Value>
                </Global>
                <Global>
                    <Name>GRASS_REGROW_CYCLES</Name>
                    <Value>
                        <Range>
                            <Min>1</Min>
                            <Max>500</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <Type>int</Type>
                    </Value>
                </Global>
            </Globals>
            <Populations>
                <Population>
                    <Agent>prey</Agent>                                 
                    <State>default1</State>
                    <InitialPopulationCount>
                        <Range>
                            <Min>1</Min>
                            <Max>5000</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                    </InitialPopulationCount>                                   
                    <Variables>                                         
                        <Variable>
                            <Name>x</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>y</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>type</Name>
                            <Value>
                                <FixedValue>1</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>fx</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>fy</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>steer_x</Name>
                            <Value>
                                <FixedValue>0.0</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>steer_y</Name>
                            <Value>
                                <FixedValue>0.0</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>life</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>25</Min>
                                    <Max>150</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>int</Type>
                            </Value>
                            <Type>int</Type>
                        </Variable>
                    </Variables>
                </Population>
                <Population>
                    <Agent>predator</Agent>                                 
                    <State>default2</State>
                    <InitialPopulationCount>
                        <Range>
                            <Min>1</Min>
                            <Max>5000</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                        <!-- <FixedValue>0</FixedValue> -->
                    </InitialPopulationCount>                                   
                    <Variables>                                         
                        <Variable>
                            <Name>x</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>y</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>type</Name>
                            <Value>
                                <FixedValue>1</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>fx</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>fy</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>steer_x</Name>
                            <Value>
                                <FixedValue>0.0</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>steer_y</Name>
                            <Value>
                                <FixedValue>0.0</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>life</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>25</Min>
                                    <Max>100</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>int</Type>
                            </Value>
                        </Variable>
                    </Variables>
                </Population>
                <Population>
                    <Agent>grass</Agent>                                 
                    <State>default3</State>
                    <InitialPopulationCount>
                        <Range>
                            <Min>1</Min>
                            <Max>5000</Max>
                            <Select>1</Select>
                            <Distribution>uniform</Distribution>
                        </Range>
                    </InitialPopulationCount>                                   
                    <Variables>                                         
                        <Variable>
                            <Name>x</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>y</Name>
                            <Value>
                                <PerAgentRange>
                                    <Min>-1.0</Min>
                                    <Max>1.0</Max>
                                    <Distribution>uniform</Distribution>
                                </PerAgentRange>
                                <Type>float</Type>
                            </Value>
                        </Variable>
                        <Variable>
                            <Name>type</Name>
                            <Value>
                                <FixedValue>2</FixedValue>
                            </Value>
                            <Type>float</Type>
                        </Variable>
                        <Variable>
                            <Name>dead_cycles</Name>
                            <Value>
                                <FixedValue>0</FixedValue>
                            </Value>
                            <Type>int</Type>
                        </Variable>
                        <Variable>
                            <Name>available</Name>
                            <Value>
                                <FixedValue>1</FixedValue>
                            </Value>
                            <Type>int</Type>
                        </Variable>
                    </Variables>
                </Population>                    
            </Populations>
        </InitialStateGenerator>
    </InitialStates>

    <ExperimentSet>
        <Experiment>
            <ExperimentName>testing_batch_simulation</ExperimentName>
            <Model>
                <ExecutableLocation>../../bin/x64/Release_Console/</ExecutableLocation>
                <ModelName>PreyPredator_api_test</ModelName>
            </Model>
            <InitialState>
                <Generator>predprey</Generator>
                <Location>iterations</Location>
            </InitialState>
            <SimulationOutput>
                <Location>iterations</Location>
                <FileName>log.csv</FileName>
            </SimulationOutput>
            <Configuration>
                <Iterations>1000</Iterations>
                <Repeats>10</Repeats>
                <ExperimentFunctions>
                    <Function>
                        <Name>run_batch</Name>
                    </Function>
                </ExperimentFunctions>
            </Configuration>
        </Experiment>
    </ExperimentSet>
</exp:Experimentation>